@import "tailwindcss";

:root {
  --font-sans: var(--font-sans);
  --font-mono: var(--font-mono);
  
  /* Light Mode (Classic Paper/Ink) */
  --retro-bg: #fdfbf7;
  --retro-fg: #1c1917;
  --retro-border: #e7e5e4;
  --retro-card-bg: #ffffff;
  --retro-hover: #f5f5f4;
  --retro-accent: #292524;
  
  /* Terminal Colors - Light */
  --terminal-green: #166534;
  --terminal-cyan: #0891b2;
  --terminal-amber: #b45309;
  --terminal-red: #dc2626;
  --terminal-purple: #7c3aed;
  --terminal-glow: rgba(22, 101, 52, 0.3);
}

:root.dark {
  /* Premium Dark Mode (OLED/Matte Black) */
  --retro-bg: #050505;
  --retro-fg: #e5e5e5;
  --retro-border: #262626;
  --retro-card-bg: #0a0a0a;
  --retro-hover: #171717;
  --retro-accent: #fafafa;
  
  /* Terminal Colors - Dark */
  --terminal-green: #22c55e;
  --terminal-cyan: #06b6d4;
  --terminal-amber: #f59e0b;
  --terminal-red: #ef4444;
  --terminal-purple: #a855f7;
  --terminal-glow: rgba(34, 197, 94, 0.4);
}

@theme {
  --font-sans: var(--font-sans);
  --font-mono: var(--font-mono);
  
  --color-retro-bg: var(--retro-bg);
  --color-retro-fg: var(--retro-fg);
  --color-retro-border: var(--retro-border);
  --color-retro-card-bg: var(--retro-card-bg);
  --color-retro-hover: var(--retro-hover);
  --color-retro-accent: var(--retro-accent);
  
  --color-terminal-green: var(--terminal-green);
  --color-terminal-cyan: var(--terminal-cyan);
  --color-terminal-amber: var(--terminal-amber);
  --color-terminal-red: var(--terminal-red);
  --color-terminal-purple: var(--terminal-purple);
  
  /* Animations */
  --animate-scanlines: scanlines 8s linear infinite;
  --animate-cursor-blink: cursor-blink 1s step-end infinite;
  --animate-fade-in-up: fadeInUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  --animate-glitch: glitch 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
  --animate-terminal-glow: terminal-glow 2s ease-in-out infinite;
  --animate-matrix-fall: matrix-fall 20s linear infinite;
  --animate-pulse-glow: pulse-glow 2s ease-in-out infinite;
  --animate-type-cursor: type-cursor 1s step-end infinite;
  --animate-boot-line: boot-line 0.5s ease-out forwards;
  --animate-data-flow: data-flow 3s linear infinite;
  --animate-neural-pulse: neural-pulse 1.5s ease-in-out infinite;

  @keyframes scanlines {
    0% { background-position: 0% 0%; }
    100% { background-position: 0% 100%; }
  }
  
  @keyframes cursor-blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
  }
  
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes glitch {
    0% {
      transform: translate(0);
      text-shadow: none;
    }
    20% {
      transform: translate(-2px, 2px);
      text-shadow: 2px 0 var(--terminal-cyan), -2px 0 var(--terminal-red);
    }
    40% {
      transform: translate(-2px, -2px);
      text-shadow: 2px 0 var(--terminal-red), -2px 0 var(--terminal-cyan);
    }
    60% {
      transform: translate(2px, 2px);
      text-shadow: -2px 0 var(--terminal-green), 2px 0 var(--terminal-purple);
    }
    80% {
      transform: translate(2px, -2px);
      text-shadow: 2px 0 var(--terminal-cyan), -2px 0 var(--terminal-green);
    }
    100% {
      transform: translate(0);
      text-shadow: none;
    }
  }

  @keyframes terminal-glow {
    0%, 100% {
      box-shadow: 0 0 5px var(--terminal-glow),
                  0 0 10px var(--terminal-glow),
                  inset 0 0 5px rgba(0, 0, 0, 0.1);
    }
    50% {
      box-shadow: 0 0 10px var(--terminal-glow),
                  0 0 20px var(--terminal-glow),
                  0 0 30px var(--terminal-glow),
                  inset 0 0 10px rgba(0, 0, 0, 0.2);
    }
  }

  @keyframes matrix-fall {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100vh); }
  }

  @keyframes pulse-glow {
    0%, 100% { opacity: 0.4; }
    50% { opacity: 1; }
  }

  @keyframes type-cursor {
    0%, 100% { border-color: var(--terminal-green); }
    50% { border-color: transparent; }
  }

  @keyframes boot-line {
    from {
      opacity: 0;
      transform: translateX(-10px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes data-flow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  @keyframes neural-pulse {
    0%, 100% { 
      transform: scale(1);
      opacity: 0.6;
    }
    50% { 
      transform: scale(1.2);
      opacity: 1;
    }
  }

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
    20%, 40%, 60%, 80% { transform: translateX(2px); }
  }
}

@layer utilities {
  .animate-fadeIn {
    animation: fadeIn 0.2s ease-out forwards;
  }

  .retro-card {
    @apply bg-[var(--retro-card-bg)] border border-[var(--retro-border)] text-[var(--retro-fg)] transition-all duration-300;
  }
  
  .glass-panel {
    @apply bg-[var(--retro-card-bg)]/80 backdrop-blur-md border border-[var(--retro-border)];
  }

  .retro-btn {
    @apply px-5 py-2.5 border border-[var(--retro-border)] bg-[var(--retro-card-bg)] text-[var(--retro-fg)] hover:bg-[var(--retro-hover)] hover:border-[var(--retro-accent)] transition-all duration-300 font-mono text-sm tracking-wide cursor-pointer flex items-center justify-center gap-2;
  }
  
  .retro-input {
    @apply w-full px-4 py-3 border border-[var(--retro-border)] bg-[var(--retro-card-bg)] text-[var(--retro-fg)] font-mono text-sm focus:outline-none focus:border-[var(--retro-accent)] transition-colors duration-300 placeholder:text-gray-600;
  }

  /* Terminal Specific Utilities */
  .terminal-window {
    @apply bg-[var(--retro-card-bg)] border border-[var(--terminal-green)]/30 rounded-lg overflow-hidden font-mono;
    box-shadow: 0 0 20px var(--terminal-glow), inset 0 0 60px rgba(0, 0, 0, 0.3);
  }

  .terminal-header {
    @apply flex items-center gap-2 px-4 py-3 border-b border-[var(--terminal-green)]/20 bg-[var(--retro-bg)]/50;
  }

  .terminal-dot {
    @apply w-3 h-3 rounded-full transition-all duration-200 hover:scale-110;
  }

  .terminal-body {
    @apply p-4 overflow-auto;
  }

  .terminal-line {
    @apply flex items-start gap-2 py-1;
  }

  .terminal-prompt {
    @apply text-[var(--terminal-green)] font-bold select-none;
  }

  .terminal-output {
    @apply text-[var(--retro-fg)]/80;
  }

  .terminal-cursor {
    @apply inline-block w-2 h-4 bg-[var(--terminal-green)] animate-cursor-blink ml-1;
  }

  .terminal-input {
    @apply bg-transparent border-none outline-none text-[var(--retro-fg)] font-mono flex-1 caret-transparent;
  }

  /* Glitch Effect */
  .glitch-text {
    position: relative;
  }

  .glitch-text:hover {
    animation: glitch 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
  }

  .glitch-text::before,
  .glitch-text::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
  }

  .glitch-text:hover::before {
    animation: glitch 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
    color: var(--terminal-cyan);
    left: 2px;
    opacity: 0.8;
  }

  .glitch-text:hover::after {
    animation: glitch 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) reverse both;
    color: var(--terminal-red);
    left: -2px;
    opacity: 0.8;
  }

  /* CRT Screen Effect */
  .crt-effect {
    position: relative;
    overflow: hidden;
  }

  .crt-effect::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
      rgba(18, 16, 16, 0) 50%,
      rgba(0, 0, 0, 0.1) 50%
    );
    background-size: 100% 4px;
    pointer-events: none;
    z-index: 100;
  }

  .crt-effect::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(
      ellipse at center,
      transparent 0%,
      rgba(0, 0, 0, 0.2) 100%
    );
    pointer-events: none;
    z-index: 100;
  }

  /* Scanline Overlay */
  .scanlines {
    position: relative;
  }

  .scanlines::after {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.03) 2px,
      rgba(0, 0, 0, 0.03) 4px
    );
    pointer-events: none;
    z-index: 50;
  }

  /* Text Glow */
  .text-glow {
    text-shadow: 0 0 10px var(--terminal-green),
                 0 0 20px var(--terminal-green),
                 0 0 30px var(--terminal-green);
  }

  .text-glow-cyan {
    text-shadow: 0 0 10px var(--terminal-cyan),
                 0 0 20px var(--terminal-cyan);
  }

  .text-glow-amber {
    text-shadow: 0 0 10px var(--terminal-amber),
                 0 0 20px var(--terminal-amber);
  }

  /* Progress Bar Styles */
  .terminal-progress {
    @apply h-4 bg-[var(--retro-border)] rounded-sm overflow-hidden relative;
  }

  .terminal-progress-bar {
    @apply h-full bg-[var(--terminal-green)] transition-all duration-500 ease-out relative;
  }

  .terminal-progress-bar::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.2) 50%,
      transparent 100%
    );
    animation: data-flow 2s linear infinite;
    background-size: 200% 100%;
  }

  /* Matrix Rain Column */
  .matrix-column {
    @apply absolute top-0 font-mono;
    color: var(--terminal-green);
    opacity: 0.8;
    writing-mode: vertical-rl;
    text-orientation: mixed;
    animation: matrix-fall var(--fall-duration, 20s) linear infinite;
    animation-delay: var(--fall-delay, 0s);
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-none {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-none::-webkit-scrollbar {
    display: none;
  }

  /* Custom Terminal Scrollbar */
  .terminal-scrollbar::-webkit-scrollbar {
    width: 6px;
  }

  .terminal-scrollbar::-webkit-scrollbar-track {
    background: var(--retro-bg);
  }

  .terminal-scrollbar::-webkit-scrollbar-thumb {
    background: var(--terminal-green);
    border-radius: 3px;
  }

  .terminal-scrollbar::-webkit-scrollbar-thumb:hover {
    background: var(--terminal-cyan);
  }
}

body {
  background-color: var(--retro-bg);
  color: var(--retro-fg);
  cursor: default;
  transition: background-color 0.5s ease, color 0.5s ease;
  font-feature-settings: "ss01", "ss02", "cv01", "cv02";
  -webkit-font-smoothing: antialiased;
}

html {
  scroll-behavior: smooth;
}

/* Hacker Mode Overrides */
body.hacker-mode {
  background-color: #000000 !important;
  color: #00FF00 !important;
  font-family: 'Courier New', Courier, monospace !important;
}

body.hacker-mode .retro-card {
  background-color: #0a0a0a !important;
  border-color: #00FF00 !important;
  color: #00FF00 !important;
}

body.hacker-mode .retro-btn {
  background-color: #000 !important;
  border-color: #00FF00 !important;
  color: #00FF00 !important;
}

/* Animation Delays */
.delay-100 { animation-delay: 0.1s; }
.delay-200 { animation-delay: 0.2s; }
.delay-300 { animation-delay: 0.3s; }
.delay-500 { animation-delay: 0.5s; }
.delay-700 { animation-delay: 0.7s; }
.delay-1000 { animation-delay: 1s; }
.delay-1500 { animation-delay: 1.5s; }
.delay-2000 { animation-delay: 2s; }

/* Selection Styles */
::selection {
  background: var(--terminal-green);
  color: var(--retro-bg);
}

::-moz-selection {
  background: var(--terminal-green);
  color: var(--retro-bg);
}
